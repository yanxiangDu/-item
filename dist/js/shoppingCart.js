"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}var setShopCart=function(){function n(t){_classCallCheck(this,n),this.ele=t,this.cartArr=JSON.parse(localStorage.getItem("cart")),this.oContent=document.querySelector(".content"),this.oBorder=document.querySelector(".header")}return _createClass(n,[{key:"init",value:function(){this.setCarList(),this.setClick()}},{key:"setCarList",value:function(){var n,e,o,r;0===this.cartArr.length?$(this.oBorder).html("<h1>你的男朋友已经帮助你清空了购物车，赶紧去选购把，记得还信用卡</h1>"):(o=e=n=0,r='\n                        <div id="box">\n                            <div class="header">\n                            <button name="yes">全选</button>\n                            <button name="no">不选</button>\n                            <button name="not">反选</button>\n                        </div>\n                    ',r+="",this.cartArr.forEach(function(t){t.buy&&(n++,e+=t.num,o+=t.goods_price*t.num),r+='   \n                        <div class="content_border">      \n                            <p><img src="'.concat(t.goods_small_logo,'"  alt=""></p>\n                            <p>').concat(t.goods_name,"</p>\n                            <p>").concat(t.goods_price,'</p>\n                            <p><button name="del" goods_id=').concat(t.goods_id,' >我不要了</button></p>\n                            <p>\n                                <button name="jia" goods_id=').concat(t.goods_id," ").concat(1===t.num?"disabled":"",">-</button> \n                                    <strong> ").concat(t.num,' </strong>\n                                <button name="jian"goods_id=').concat(t.goods_id," ").concat(t.num===t.goods_number?"disabled":"",'>+</button>\n                            </p>\n                            <input type="checkbox" name="che" goods_id="').concat(t.goods_id,'" type="checkbox" ').concat(t.buy?"checked":"",">\n                        </div>\n                            \n                \n                        ")}),r+=' \n                        <div class="footer">\n                            <span>您购买了'.concat(n,"种商品 一共是").concat(e,"件货物</span>   \n                            <span>您需要支付").concat(o.toFixed(2),"元人民币,快去看看余额够不够?</span>      \n                        </div>\n                    "),$(this.oBorder).html(r))}},{key:"setClick",value:function(){var o=this;this.oBorder.addEventListener("click",function(e){"yes"===e.target.getAttribute("name")&&o.cartArr.forEach(function(t){t.buy=!0}),"no"===e.target.getAttribute("name")&&o.cartArr.forEach(function(t){t.buy=!1,console.log(t.buy)}),"not"===e.target.getAttribute("name")&&o.cartArr.forEach(function(t){t.buy=!t.buy}),"che"===e.target.getAttribute("name")&&o.cartArr.forEach(function(t){t.goods_id===e.getAttribute("goods_id")&&(t.buy=!t.buy)}),"del"===e.target.getAttribute("name")&&window.confirm("这么好的东西 真的不要了吗？")&&o.cartArr.forEach(function(t,n){t.goods_id==e.target.getAttribute("goods_id")&&o.cartArr.splice(n,1)}),"jian"===e.target.getAttribute("name")&&o.cartArr.forEach(function(t){t.goods_id==e.target.getAttribute("goods_id")&&t.num++}),"jia"===e.target.getAttribute("name")&&o.cartArr.forEach(function(t){t.goods_id==e.target.getAttribute("goods_id")&&t.num--}),o.setCarList(),localStorage.setItem("cart",JSON.stringify(o.cartArr))})}}]),n}();